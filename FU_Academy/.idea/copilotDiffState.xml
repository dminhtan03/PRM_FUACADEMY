<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/fu_academy/activity/TeacherDashboardActivity.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/fu_academy/activity/TeacherDashboardActivity.java" />
              <option name="originalContent" value="package com.example.fu_academy.activity;&#10;&#10;import android.content.Intent;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;import android.widget.LinearLayout;&#10;import android.widget.ImageView;&#10;&#10;import androidx.lifecycle.ViewModelProvider;&#10;import androidx.core.content.ContextCompat;&#10;&#10;import com.example.fu_academy.R;&#10;import com.example.fu_academy.dto.TeacherDashboardSummary;&#10;import com.example.fu_academy.viewmodel.TeacherDashboardViewModel;&#10;&#10;import java.util.Locale;&#10;&#10;public class TeacherDashboardActivity extends BaseTeacherActivity {&#10;&#10;    private TeacherDashboardViewModel viewModel;&#10;&#10;    // Dashboard summary views&#10;    private TextView tvCourseCount, tvStudentCount, tvPendingTasks;&#10;    private TextView tvAverageGrade, tvFeedbackCount, tvAttendanceRate;&#10;&#10;    // Tab components&#10;    private LinearLayout tabMyClasses, tabAttendance, tabGrade, tabSettings;&#10;    private LinearLayout contentMyClasses, contentAttendance, contentGrade, contentSettings;&#10;    private ImageView iconMyClasses, iconAttendance, iconGrade, iconSettings;&#10;    private TextView labelMyClasses, labelAttendance, labelGrade, labelSettings;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_teacher_dashboard);&#10;&#10;        initViews();&#10;        setupViewModel();&#10;        setupClickListeners();&#10;        loadDashboardData();&#10;&#10;        // Initialize with first tab selected&#10;        switchTab(0);&#10;    }&#10;&#10;    private void initViews() {&#10;        // Dashboard summary TextViews&#10;        tvCourseCount = findViewById(R.id.tv_course_count);&#10;        tvStudentCount = findViewById(R.id.tv_student_count);&#10;        tvPendingTasks = findViewById(R.id.tv_pending_tasks);&#10;        tvAverageGrade = findViewById(R.id.tv_average_grade);&#10;        tvFeedbackCount = findViewById(R.id.tv_feedback_count);&#10;        tvAttendanceRate = findViewById(R.id.tv_attendance_rate);&#10;&#10;        // Tab components&#10;        tabMyClasses = findViewById(R.id.tab_my_classes);&#10;        tabAttendance = findViewById(R.id.tab_attendance);&#10;        tabGrade = findViewById(R.id.tab_grade);&#10;        tabSettings = findViewById(R.id.tab_settings);&#10;&#10;        // Tab content layouts&#10;        contentMyClasses = findViewById(R.id.content_my_classes);&#10;        contentAttendance = findViewById(R.id.content_attendance);&#10;        contentGrade = findViewById(R.id.content_grade);&#10;        contentSettings = findViewById(R.id.content_settings);&#10;&#10;        // Tab icons and labels&#10;        iconMyClasses = findViewById(R.id.icon_my_classes);&#10;        iconAttendance = findViewById(R.id.icon_attendance);&#10;        iconGrade = findViewById(R.id.icon_grade);&#10;        iconSettings = findViewById(R.id.icon_settings);&#10;&#10;        labelMyClasses = findViewById(R.id.label_my_classes);&#10;        labelAttendance = findViewById(R.id.label_attendance);&#10;        labelGrade = findViewById(R.id.label_grade);&#10;        labelSettings = findViewById(R.id.label_settings);&#10;    }&#10;&#10;    private void setupViewModel() {&#10;        viewModel = new ViewModelProvider(this).get(TeacherDashboardViewModel.class);&#10;&#10;        // Observe dashboard summary&#10;        viewModel.getDashboardSummary().observe(this, this::updateDashboard);&#10;&#10;        // Observe error messages&#10;        viewModel.getErrorMessage().observe(this, errorMessage -&gt; {&#10;            if (errorMessage != null &amp;&amp; !errorMessage.isEmpty()) {&#10;                Toast.makeText(this, errorMessage, Toast.LENGTH_LONG).show();&#10;            }&#10;        });&#10;&#10;        // Observe loading state&#10;        viewModel.getIsLoading().observe(this, isLoading -&gt; {&#10;            // You can show/hide a progress bar here&#10;            // For now, we'll just handle it in the UI updates&#10;        });&#10;    }&#10;&#10;&#10;&#10;    private void setupClickListeners() {&#10;        // Tab bar navigation is handled by BaseTeacherActivity for navigation&#10;        // Dashboard has its own content switching system for preview&#10;        if (tabMyClasses != null) {&#10;            tabMyClasses.setOnClickListener(v -&gt; switchTab(0));&#10;        }&#10;        if (tabAttendance != null) {&#10;            tabAttendance.setOnClickListener(v -&gt; switchTab(1));&#10;        }&#10;        if (tabGrade != null) {&#10;            tabGrade.setOnClickListener(v -&gt; switchTab(2));&#10;        }&#10;        if (tabSettings != null) {&#10;            tabSettings.setOnClickListener(v -&gt; {&#10;                // Navigate directly to SettingsActivity&#10;                Intent intent = new Intent(this, SettingsActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        // Content area click listeners - navigate to actual activities&#10;        if (contentMyClasses != null) {&#10;            contentMyClasses.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, MyClassesActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        if (contentAttendance != null) {&#10;            contentAttendance.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, AttendanceSheetActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        if (contentGrade != null) {&#10;            contentGrade.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, GradeInputActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        if (contentSettings != null) {&#10;            contentSettings.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, SettingsActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;    }&#10;&#10;    private void switchTab(int tabIndex) {&#10;        // Hide all content layouts&#10;        contentMyClasses.setVisibility(View.GONE);&#10;        contentAttendance.setVisibility(View.GONE);&#10;        contentGrade.setVisibility(View.GONE);&#10;        contentSettings.setVisibility(View.GONE);&#10;&#10;        // Reset all tab colors to inactive&#10;        int inactiveColor = ContextCompat.getColor(this, R.color.bottom_nav_unselected);&#10;        int activeColor = ContextCompat.getColor(this, R.color.bottom_nav_selected);&#10;&#10;        iconMyClasses.setColorFilter(inactiveColor);&#10;        iconAttendance.setColorFilter(inactiveColor);&#10;        iconGrade.setColorFilter(inactiveColor);&#10;        iconSettings.setColorFilter(inactiveColor);&#10;&#10;        labelMyClasses.setTextColor(inactiveColor);&#10;        labelAttendance.setTextColor(inactiveColor);&#10;        labelGrade.setTextColor(inactiveColor);&#10;        labelSettings.setTextColor(inactiveColor);&#10;&#10;        // Show selected tab content and highlight tab&#10;        switch (tabIndex) {&#10;            case 0:&#10;                contentMyClasses.setVisibility(View.VISIBLE);&#10;                iconMyClasses.setColorFilter(activeColor);&#10;                labelMyClasses.setTextColor(activeColor);&#10;                break;&#10;            case 1:&#10;                contentAttendance.setVisibility(View.VISIBLE);&#10;                iconAttendance.setColorFilter(activeColor);&#10;                labelAttendance.setTextColor(activeColor);&#10;                break;&#10;            case 2:&#10;                contentGrade.setVisibility(View.VISIBLE);&#10;                iconGrade.setColorFilter(activeColor);&#10;                labelGrade.setTextColor(activeColor);&#10;                break;&#10;            case 3:&#10;                contentSettings.setVisibility(View.VISIBLE);&#10;                iconSettings.setColorFilter(activeColor);&#10;                labelSettings.setTextColor(activeColor);&#10;                break;&#10;        }&#10;    }&#10;&#10;    private void loadDashboardData() {&#10;        viewModel.loadDashboardData(lecturerId);&#10;    }&#10;&#10;    private void updateDashboard(TeacherDashboardSummary summary) {&#10;        if (summary != null) {&#10;            tvCourseCount.setText(String.valueOf(summary.getCourseCount()));&#10;            tvStudentCount.setText(String.valueOf(summary.getStudentCount()));&#10;            tvPendingTasks.setText(String.valueOf(summary.getPendingTasks()));&#10;&#10;            if (summary.getAverageGrade() != null) {&#10;                tvAverageGrade.setText(String.format(Locale.getDefault(), &quot;%.1f&quot;, summary.getAverageGrade()));&#10;            } else {&#10;                tvAverageGrade.setText(&quot;N/A&quot;);&#10;            }&#10;&#10;            tvFeedbackCount.setText(String.valueOf(summary.getFeedbackCount()));&#10;&#10;            if (summary.getAttendanceRate() != null) {&#10;                tvAttendanceRate.setText(String.format(Locale.getDefault(), &quot;%.1f%%&quot;, summary.getAttendanceRate()));&#10;            } else {&#10;                tvAttendanceRate.setText(&quot;N/A&quot;);&#10;            }&#10;&#10;            tvUpcomingClass.setText(summary.getUpcomingClass());&#10;        }&#10;    }&#10;&#10;    @Override&#10;    protected void onResume() {&#10;        super.onResume();&#10;        // Refresh data when returning to this activity&#10;        loadDashboardData();&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.fu_academy.activity;&#10;&#10;import android.content.Intent;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;import android.widget.LinearLayout;&#10;import android.widget.ImageView;&#10;&#10;import androidx.lifecycle.ViewModelProvider;&#10;import androidx.core.content.ContextCompat;&#10;&#10;import com.example.fu_academy.R;&#10;import com.example.fu_academy.dto.TeacherDashboardSummary;&#10;import com.example.fu_academy.viewmodel.TeacherDashboardViewModel;&#10;&#10;import java.util.Locale;&#10;&#10;public class TeacherDashboardActivity extends BaseTeacherActivity {&#10;&#10;    private TeacherDashboardViewModel viewModel;&#10;&#10;    // Dashboard summary views&#10;    private TextView tvCourseCount, tvStudentCount, tvPendingTasks;&#10;    private TextView tvAverageGrade, tvFeedbackCount, tvAttendanceRate;&#10;&#10;    // Tab components&#10;    private LinearLayout tabMyClasses, tabAttendance, tabGrade, tabSettings;&#10;    private LinearLayout contentMyClasses, contentAttendance, contentGrade, contentSettings;&#10;    private ImageView iconMyClasses, iconAttendance, iconGrade, iconSettings;&#10;    private TextView labelMyClasses, labelAttendance, labelGrade, labelSettings;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        setContentView(R.layout.activity_teacher_dashboard);&#10;&#10;        initViews();&#10;        setupViewModel();&#10;        setupClickListeners();&#10;        loadDashboardData();&#10;&#10;        // Initialize with first tab selected&#10;        switchTab(0);&#10;    }&#10;&#10;    private void initViews() {&#10;        // Dashboard summary TextViews&#10;        tvCourseCount = findViewById(R.id.tv_course_count);&#10;        tvStudentCount = findViewById(R.id.tv_student_count);&#10;        tvPendingTasks = findViewById(R.id.tv_pending_tasks);&#10;        tvAverageGrade = findViewById(R.id.tv_average_grade);&#10;        tvFeedbackCount = findViewById(R.id.tv_feedback_count);&#10;        tvAttendanceRate = findViewById(R.id.tv_attendance_rate);&#10;&#10;        // Tab components&#10;        tabMyClasses = findViewById(R.id.tab_my_classes);&#10;        tabAttendance = findViewById(R.id.tab_attendance);&#10;        tabGrade = findViewById(R.id.tab_grade);&#10;        tabSettings = findViewById(R.id.tab_settings);&#10;&#10;        // Tab content layouts&#10;        contentMyClasses = findViewById(R.id.content_my_classes);&#10;        contentAttendance = findViewById(R.id.content_attendance);&#10;        contentGrade = findViewById(R.id.content_grade);&#10;        contentSettings = findViewById(R.id.content_settings);&#10;&#10;        // Tab icons and labels&#10;        iconMyClasses = findViewById(R.id.icon_my_classes);&#10;        iconAttendance = findViewById(R.id.icon_attendance);&#10;        iconGrade = findViewById(R.id.icon_grade);&#10;        iconSettings = findViewById(R.id.icon_settings);&#10;&#10;        labelMyClasses = findViewById(R.id.label_my_classes);&#10;        labelAttendance = findViewById(R.id.label_attendance);&#10;        labelGrade = findViewById(R.id.label_grade);&#10;        labelSettings = findViewById(R.id.label_settings);&#10;    }&#10;&#10;    private void setupViewModel() {&#10;        viewModel = new ViewModelProvider(this).get(TeacherDashboardViewModel.class);&#10;&#10;        // Observe dashboard summary&#10;        viewModel.getDashboardSummary().observe(this, this::updateDashboard);&#10;&#10;        // Observe error messages&#10;        viewModel.getErrorMessage().observe(this, errorMessage -&gt; {&#10;            if (errorMessage != null &amp;&amp; !errorMessage.isEmpty()) {&#10;                Toast.makeText(this, errorMessage, Toast.LENGTH_LONG).show();&#10;            }&#10;        });&#10;&#10;        // Observe loading state&#10;        viewModel.getIsLoading().observe(this, isLoading -&gt; {&#10;            // You can show/hide a progress bar here&#10;            // For now, we'll just handle it in the UI updates&#10;        });&#10;    }&#10;&#10;&#10;&#10;    private void setupClickListeners() {&#10;        // Tab bar navigation is handled by BaseTeacherActivity for navigation&#10;        // Dashboard has its own content switching system for preview&#10;        if (tabMyClasses != null) {&#10;            tabMyClasses.setOnClickListener(v -&gt; switchTab(0));&#10;        }&#10;        if (tabAttendance != null) {&#10;            tabAttendance.setOnClickListener(v -&gt; switchTab(1));&#10;        }&#10;        if (tabGrade != null) {&#10;            tabGrade.setOnClickListener(v -&gt; switchTab(2));&#10;        }&#10;        if (tabSettings != null) {&#10;            tabSettings.setOnClickListener(v -&gt; {&#10;                // Navigate directly to SettingsActivity&#10;                Intent intent = new Intent(this, SettingsActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        // Content area click listeners - navigate to actual activities&#10;        if (contentMyClasses != null) {&#10;            contentMyClasses.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, MyClassesActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        if (contentAttendance != null) {&#10;            contentAttendance.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, AttendanceSheetActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        if (contentGrade != null) {&#10;            contentGrade.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, GradeInputActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;&#10;        if (contentSettings != null) {&#10;            contentSettings.setOnClickListener(v -&gt; {&#10;                Intent intent = new Intent(this, SettingsActivity.class);&#10;                intent.putExtra(&quot;lecturer_id&quot;, lecturerId);&#10;                startActivity(intent);&#10;            });&#10;        }&#10;    }&#10;&#10;    private void switchTab(int tabIndex) {&#10;        // Hide all content layouts&#10;        contentMyClasses.setVisibility(View.GONE);&#10;        contentAttendance.setVisibility(View.GONE);&#10;        contentGrade.setVisibility(View.GONE);&#10;        contentSettings.setVisibility(View.GONE);&#10;&#10;        // Reset all tab colors to inactive&#10;        int inactiveColor = ContextCompat.getColor(this, R.color.bottom_nav_unselected);&#10;        int activeColor = ContextCompat.getColor(this, R.color.bottom_nav_selected);&#10;&#10;        iconMyClasses.setColorFilter(inactiveColor);&#10;        iconAttendance.setColorFilter(inactiveColor);&#10;        iconGrade.setColorFilter(inactiveColor);&#10;        iconSettings.setColorFilter(inactiveColor);&#10;&#10;        labelMyClasses.setTextColor(inactiveColor);&#10;        labelAttendance.setTextColor(inactiveColor);&#10;        labelGrade.setTextColor(inactiveColor);&#10;        labelSettings.setTextColor(inactiveColor);&#10;&#10;        // Show selected tab content and highlight tab&#10;        switch (tabIndex) {&#10;            case 0:&#10;                contentMyClasses.setVisibility(View.VISIBLE);&#10;                iconMyClasses.setColorFilter(activeColor);&#10;                labelMyClasses.setTextColor(activeColor);&#10;                break;&#10;            case 1:&#10;                contentAttendance.setVisibility(View.VISIBLE);&#10;                iconAttendance.setColorFilter(activeColor);&#10;                labelAttendance.setTextColor(activeColor);&#10;                break;&#10;            case 2:&#10;                contentGrade.setVisibility(View.VISIBLE);&#10;                iconGrade.setColorFilter(activeColor);&#10;                labelGrade.setTextColor(activeColor);&#10;                break;&#10;            case 3:&#10;                contentSettings.setVisibility(View.VISIBLE);&#10;                iconSettings.setColorFilter(activeColor);&#10;                labelSettings.setTextColor(activeColor);&#10;                break;&#10;        }&#10;    }&#10;&#10;    private void loadDashboardData() {&#10;        viewModel.loadDashboardData(lecturerId);&#10;    }&#10;&#10;    private void updateDashboard(TeacherDashboardSummary summary) {&#10;        if (summary != null) {&#10;            tvCourseCount.setText(String.valueOf(summary.getCourseCount()));&#10;            tvStudentCount.setText(String.valueOf(summary.getStudentCount()));&#10;            tvPendingTasks.setText(String.valueOf(summary.getPendingTasks()));&#10;&#10;            if (summary.getAverageGrade() != null) {&#10;                tvAverageGrade.setText(String.format(Locale.getDefault(), &quot;%.1f&quot;, summary.getAverageGrade()));&#10;            } else {&#10;                tvAverageGrade.setText(&quot;N/A&quot;);&#10;            }&#10;&#10;            tvFeedbackCount.setText(String.valueOf(summary.getFeedbackCount()));&#10;&#10;            if (summary.getAttendanceRate() != null) {&#10;                tvAttendanceRate.setText(String.format(Locale.getDefault(), &quot;%.1f%%&quot;, summary.getAttendanceRate()));&#10;            } else {&#10;                tvAttendanceRate.setText(&quot;N/A&quot;);&#10;            }&#10;        }&#10;    }&#10;&#10;    @Override&#10;    protected void onResume() {&#10;        super.onResume();&#10;        // Refresh data when returning to this activity&#10;        loadDashboardData();&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>